
- name: Setup frontend
  hosts: all
  become: true
  tasks:
    - name: Install the latest version of Nginx
      ansible.builtin.yum:
        name: nginx
        state: latest
#    - name: Removing default content
#      ansible.builtin.file:
#        path: /usr/share/nginx/html
#        state: absent
#    - name: Download the frontend content and unzip
#      ansible.builtin.unarchive:
#        src: https://roboshop-artifacts.s3.amazonaws.com/frontend.zip
#        dest: /usr/share/nginx/html
#        remote_src: yes











#echo -e "\e[32mDownload the frontend content\e[0m"
#curl -o /tmp/frontend.zip https://roboshop-artifacts.s3.amazonaws.com/frontend.zip &>>/tmp/roboshop.log
#
#echo -e "\e[32mExtract the frontend content.\e[0m"
#cd /usr/share/nginx/html
#unzip /tmp/frontend.zip &>>/tmp/roboshop.log
#
#  #Create Nginx Reverse Proxy Configuration.
#cp /home/centos/roboshop-shell-1/roboshop.conf /etc/nginx/default.d/roboshop.conf
#
#echo -e "\e[32mStart Nginx Server\e[0m"
#systemctl enable nginx &>>/tmp/roboshop.log
#systemctl restart nginx &>>/tmp/roboshop.log